<div class="container">
    <nav aria-label="breadcrumb" class="breadcrumbNav">
        <ol class="breadcrumb">
            <!-- <li class="breadcrumb-item"><a>Home</a></li> -->
            <li class="breadcrumb-item"><a routerLink="/category/{{catSlug}}">{{catSlug}}</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{subCatSlug}}</li>
        </ol>
    </nav>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-3 sub_cat_left_sec">
            <!-- <h3 class="mobile_hide"><span>All categories</span></h3> -->
            <ngb-accordion #acc="ngbAccordion" activeIds="config-panel-one">
                <ngb-panel id="toggle-1" title="All categories" id="config-panel-one">
                  <ng-template ngbPanelContent>
                    <!-- <ngb-accordion #acc="ngbAccordion" [closeOthers]="true" activeIds="ngb-panel-0">
                        <ngb-panel title="Kitchen" id="ngb-panel-0">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel title="Living">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel title="Dining">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel title="Decor">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel title="Bathroom">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                        <ngb-panel title="Carpets">
                            <ng-template ngbPanelContent>
                                <ul class="cat_sub_lists">
                                    <li><a>Glasses</a></li>
                                    <li><a>Pots</a></li>
                                    <li><a>Plates</a></li>
                                    <li><a>Decor</a></li>
                                </ul>
                            </ng-template>
                        </ngb-panel>
                    </ngb-accordion> -->
                    <h4>Sort by</h4>
                    <div class="btn-group" role="group" ngbRadioGroup name="radioBasic" [(ngModel)]="model">
                        <label ngbButtonLabel class="btn-primary">
                            <input ngbButton type="radio" class="btn-check" value="middle"> Featured
                        </label>
                        <label ngbButtonLabel class="btn-primary">
                            <input ngbButton type="radio" class="btn-check" [value]="false"> New
                        </label>
                    </div>
                    <h4>Location</h4>
                    <div class="location_search">
                        <input type="email" class="form-control" placeholder="Search for products or brands">
                    </div>
                    <ul class="location_list">
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Iordan
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Qatar
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    UAE
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Iraq
                                </label>
                            </div>
                        </li>
                    </ul>
                    <a class="more_locations">See more locations</a>
                    <h4>Location</h4>
                    <ul class="location_list">
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    3 days or less
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    9 days or less
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    6 days or less
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    14 days or less
                                </label>
                              </div>
                        </li>
                    </ul><br>
                    <h4>Brand minimum</h4>
                    <ul class="location_list">
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    No minimum
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    200$ or less
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    100$ or less
                                </label>
                              </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="flexRadioDefault">
                                <label class="form-check-label">
                                    300$ or less
                                </label>
                              </div>
                        </li>
                    </ul><br>
                    <h4>Brand minimum</h4>
                    <ul class="location_list">
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Handmade
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Eco-friendly
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Social good
                                </label>
                            </div>
                        </li>
                        <li>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <label class="form-check-label">
                                    Not on Amazon
                                </label>
                            </div>
                        </li>
                    </ul>
                    <a class="see_more2">See more</a>
                  </ng-template>
                </ngb-panel>
              </ngb-accordion>
            
        </div>
        <div class="col-md-9 sub_cat_right_sec">
            <h2>{{subCatSlug}}</h2>
            <ul class="row cat_listing_list">
                <ng-container *ngIf="allDetails?.products?.length > 0">
                    <li class="col-md-4" *ngFor="let item of allDetails?.products">
                        <div class="card" *ngIf="not_logged_in" (click)="openUserLogInModal(userLogInContent)" style="cursor: pointer;">
                            <div class="imgDiv" [style.background-image]="'url(' + item.featured_image + ')'"></div>
                            <div class="textDiv">
                                <h3>{{item?.name}}</h3>
                                <!-- <p>Here can be small description</p> -->
                                <p>by <strong>{{item?.brand_name}}</strong></p>
                                <p class="price_tag">MSRP <strong>{{item?.usd_wholesale_price}} {{item?.default_currency}}</strong></p>
                            </div>
                        </div>
                        <div class="card" *ngIf="!not_logged_in" routerLink="/product/{{item?.product_key}}" style="cursor: pointer;">
                            <div class="imgDiv" [style.background-image]="'url(' + item.featured_image + ')'"></div>
                            <div class="textDiv">
                                <h3>{{item?.name}}</h3>
                                <!-- <p>Here can be small description</p> -->
                                <p>by <strong>{{item?.brand_name}}</strong></p>
                                <p>MSRP <strong>{{item?.usd_retail_price}} {{item?.default_currency}}</strong> | WS <strong>{{item?.usd_wholesale_price}} {{item?.default_currency}}</strong></p>
                            </div>
                        </div>
                    </li>
                </ng-container>

                <ng-container *ngIf="allDetails?.products?.length == 0">
                    <li class="col-md-4">
                        <div class="card" style="border: none !important;">
                            <div class="textDiv">
                                <h3>No products found!</h3>
                            </div>
                        </div>
                    </li>
                </ng-container>

            </ul>
        </div>
    </div>
</div>

<!-- User-Log-In-Modal -->
<ng-template #userLogInContent let-modal>
    <div class="modal-header">
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <h3>Welcome back!</h3>
        <p>Thousands of products await</p>
            <ul class="formOne">
            <form #emailForm="ngForm" (ngSubmit)="emailForm.form.valid && send1stSignInData()" (keydown.enter)="emailForm.form.valid && send1stSignInData()" novalidate>
                <li *ngIf="log1">
                    <input required email type="text" class="form-control" placeholder="E-mail" name="email_address" [(ngModel)]="email_address" #email_addressVal="ngModel">
                    <span class="validate_errors"
                        *ngIf="(email_addressVal.touched || emailForm.submitted) && email_addressVal.errors?.['required']">
                        This field is required
                    </span>
                    <span class="validate_errors"
                        *ngIf="(email_addressVal.touched || emailForm.submitted) && email_addressVal.errors?.['email']">
                        Enter an valid email
                    </span>
                    <button type="submit" class="btn btn-primary continue_btn fullBtn">Continue</button>
                </li>
            </form>
                <form #signInFrom="ngForm" (ngSubmit)="signInFrom.form.valid && sendSignInData(signInFrom)" novalidate>
                <li *ngIf="log2">
                    <input hidden type="text" name="email_address" [(ngModel)]="email_address">
                    <input type="password" class="form-control" placeholder="Password" name="password" [(ngModel)]="password" #passwordVal="ngModel">
                    <span class="validate_errors">{{validateError}}</span>
                    <button type="button" class="btn btn-primary backButton" (click)="backFirstFunction()">Back</button>
                    <button type="submit" *ngIf="!spinnerShow" class="btn btn-primary">Continue</button>
                    <button type="" class="btn btn-primary common_btn next2" disabled style="position:relative;" *ngIf="spinnerShow"><img src="assets/images/spinner.gif" style="width: 100px; height: 100px; right: 35px;bottom: -28px;position: absolute;"></button>
                </li>
            </form>
            </ul>
            <div class="clearfix"></div>
        <p class="sign_in_para">New to Bazar? <a (click)="modal.dismiss('Cross click')"
                (click)="openUserSignUpModal(content)">Create an account</a></p>
        <ul class="social_login">
            <li><a class="social_link"><span class="social_span"><img src="assets/images/facebook_icon.png"
                            alt="facebook login">Continue with facebook</span></a></li>
            <li><a class="social_link"><span class="social_span"><img src="assets/images/google_icon.png"
                            alt="facebook login">Continue with google</span></a></li>
        </ul>
    </div>
</ng-template>

<!-- User-Sign-Up-Modal -->
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title"><img src="assets/images/bazar_modal_logo.png" alt="logo"></h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <h3>Take your business to the next level.</h3>
        <p>Join our platform and start selling your products to a wider audience!</p> 
        <form [formGroup]="userRegForm" (ngSubmit)="submitUserEmail(userRegForm)" (keydown.enter)="submitUserEmail(userRegForm)">
            <ul class="formOne">
                <li>
                    <input required type="email" [(ngModel)]="userEmail" formControlName="userEmail" class="form-control" placeholder="Your business e-mail">
                </li>
                <li>
                    <div class="validate_errors" *ngIf="submitted && userRegForm.controls['userEmail'].invalid">
                        <strong>Email-id Required</strong> Please enter Valid Email-id.
                    </div>
                    <button type="submit" class="btn btn-primary">Get started</button>
                </li>
            </ul>
        </form>
        <p class="sign_in_para"><a (click)="modal.dismiss('Cross click')" (click)="openUserLogInModal(userLogInContent)">Sign in</a> 
        </p>
    </div>
    <div class="modal-footer">
        <p>By signing up for Bazar, you are aagreeing to our <a>Terms</a> and <a>Privacy policy</a></p>
    </div>
</ng-template>
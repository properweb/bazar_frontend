<app-vendor-dashboard-header></app-vendor-dashboard-header>
<div class="dashboard_body">
  <app-vendor-side-menu></app-vendor-side-menu>
  <div class="middle_vendor_dasboard">
    <div class="middle_content">
      <div class="headingBox">
        <div class="whiteHeadingBox">
          <h3>Sell-through</h3>
          <p><a routerLink="/analytics">Analytics</a></p>
          <div class="selectBoxNew">
            <select class="form-select" aria-label="Default select example" (change)="onSortChange($event)">
              <option value="1">Last month</option>
              <option value="3" selected>Last 3 months</option>
              <option value="6">Last 6 months</option>
              <option value="12">Last 12 months</option>
              <option value="13">all time</option>
            </select>
          </div>
        </div>
      </div>
      <div class="PerformPnl">
        <div class="sellthroughBox">
          <h4>Analytics Summary</h4>
          <p class="dateField">{{!allTime ? from_dateDisplay + '-' + to_dateDisplay : 'All time'}}</p>
          <div class="clearfix"></div>
          <div class="leftSellthroughBox">
            <p>Sell-through is the consumer purchase rate of your products sold in a retailer's store. This rate is the % of items that are not returned.</p>
            <table class="perform">
              <thead>
                <tr>
                  <th>Sell-through Rate</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>{{sellThroughList?.sellthrough_rate ? sellThroughList?.sellthrough_rate + '%' : '-'}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="rightSellthroughBox" *ngIf="grayDivShow">
            <div class="grayDiv"> <a class="crossLink" (click)="grayDivShow = false;" ><img src="assets/images/cross_icon.png" alt=""></a>
              <p>Listings with product dimension details and images of the item's packaging and presentation can help increase your sell-through!</p>
              <p><a routerLink="/products">Update Product Listings</a></p>
            </div>
          </div>
        </div>
        <div class="PerformBox">
          <h4>Top Selling Items</h4>
          <table class="perform">
            <thead>
              <tr>
                <th>Product name</th>
                <th>Total Ordered</th>
                <th>Total Returned</th>
                <th>Sell-through Rate</th>
              </tr>
            </thead>
            <tbody *ngIf="topSellingList?.length > 0">
              <tr *ngFor="let item of topSellingList; let i = index;">
                <td>{{item?.product}}</td>
                <td>{{item?.totalOrder ? item?.totalOrder : '-'}}</td>
                <td>{{item?.total_returned ? item?.total_returned : '-'}}</td>
                <td>{{item?.sellthrough_rate && item?.sellthrough_rate != 0.00 ? item?.sellthrough_rate : '-'}}</td>
              </tr>
            </tbody>
            <tbody *ngIf="topSellingList?.length == 0">
              <tr>
                <td>No records found.</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="PerformBox">
          <h4>Top Returned Items</h4>
          <table class="perform">
            <thead>
              <tr>
                <th>Product name</th>
                <th>Total Ordered</th>
                <th>Total Returned</th>
                <th>Sell-through Rate</th>
              </tr>
            </thead>
            <tbody *ngIf="sellThroughList?.top_returned_items?.length > 0">
              <tr *ngFor="let item of sellThroughList?.top_returned_items; let i = index;">
                <td>{{item?.product_name}}</td>
                <td>{{item?.order_quantity ? item?.order_quantity : '-'}}</td>
                <td>{{item?.returned_quantity ? item?.returned_quantity : '-'}}</td>
                <td>{{item?.sellthrough_rate && item?.sellthrough_rate != '0.00' ? item?.sellthrough_rate : '-'}}</td>
              </tr>
            </tbody>
          </table>
          <div class="borderBottomBox" *ngIf="sellThroughList?.top_returned_items?.length == 0">
            <h5>Not Enough Data Yet</h5>
            <p>We are still gathering data, on your store. Once a return has been made that data will show here.</p>
          </div>
        </div>
        <div class="PerformBox">
          <h4>Returns</h4>
          <p class="dateField">{{!allTime ? from_dateDisplay + '-' + to_dateDisplay : 'All time'}}</p>
          <div class="clearfix"></div>
          <table class="perform">
            <thead>
              <tr>
                <th>Total Return Orders</th>
                <th>Avg. Items per Return</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{{sellThroughList?.total_returned ? sellThroughList?.total_returned : 0}}</td>
                <td>{{sellThroughList?.avg_returned_items ? sellThroughList?.avg_returned_items : '-'}}</td>
              </tr>
            </tbody>
          </table>
          <div class="borderBottomBox">
            <h6>Top Return Reasons</h6>
            <h5>Not Enough Data Yet</h5>
            <p>We are still gathering data, on your store. Once a return has been made that data will show here.</p>
          </div>
          <div class="borderBottomBox">
            <h6>Return Comments</h6>
            <h5>Not Enough Data Yet</h5>
            <p>We are still gathering data, on your store. Once a return has been made that data will show here.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
